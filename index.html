<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
<!--    <link rel="stylesheet" href="./src/css/button.css">-->
    <title>Dead Empire Game</title>
    <style>

        @keyframes loadevent {

            0% {
                opacity: 0;
                transform: translateY(30px);
            }

            50% {
                opacity: 20%;
                transform: translateY(-2px);
            }

            100% {
                opacity: 100%;
                transform: translateY(0px);
            }

        }

        @keyframes loadeventReverse {
            100% {
                opacity: 0;
                transform: translateY(30px);
            }

            50% {
                opacity: 20%;
                transform: translateY(-2px);
            }

            0% {
                opacity: 100%;
                transform: translateY(0px);
            }
        }

        * {
            box-sizing: border-box;
            user-select: none; /* supported by Chrome and Opera */
            -webkit-user-select: none; /* Safari */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* Internet Explorer/Edge */
            touch-action: manipulation;
        }
        html {
            --base-color: #6c6c6c;
            --base-color-hover: #414141;
            font-family: system-ui;
            color: #e7e7e7;
            margin: 0;
            padding: 0;
        }
        body {
            background-color: black;
            margin: 0;
            padding: 0;
        }
        .none {
            display: none !important;
        }

        #ui {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #ui .modal {
            width: min(500px, 90vw);
            /*min-height: 250px;*/
            max-height: 90vh;
            overflow: scroll;
            padding: 15px;
            border-radius: 8px;

            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            margin-bottom: 15px;
            /*border: 1px solid var(--base-color);*/

            /*transform: translate(-50%, 0);*/
        }

        #modals {
            position: fixed;
            top: min(100px, 5vh);
            left: min(100px, 5vw);
            max-height: 90vh;
            overflow-y: scroll;
        }

        #ui .modal p,
        #ui .modal h1 {
            font-size: 14px;
            line-height: 170%;
        }
        #ui .modal .modal__okButton {

        }

        #start-stop-buttons button {

        }

        .gameButton {
            width: 100px;
            height: 30px;
            /*background-color: #ff3c00;*/
            /*background-color: crimson;*/
            background-color: var(--base-color);
            color: white;
            border-radius: 4px;
            transition: 0.1s ease-in-out;
            border: 0;
        }
        .gameButton:hover {
            background-color: var(--base-color-hover);
            /*background-color: #b01534;*/
        }
        .center-container-row {

        }
        .center-container-row > * {
            width: 100%;
        }

        #quests {
            position: fixed;
            top: 100px;
            left: 0;
            font-size: 12px;
            background-color: rgba(56, 53, 53, 0.8);
            backdrop-filter: blur(4px);
            border-radius: 6px;
            padding: 8px;
        }
        #quests h2 {
            margin: 0;
            margin-bottom: 5px;
            font-size: 14px;
        }
        .quests__list {
            border-radius: 4px;
            overflow: hidden;
        }
        .quest-list-item {
            width: 160px;
            padding: 5px;

            padding-left: 10px;
            background-color: var(--base-color);

            border-bottom: 1px solid #494949;
        }
        .quest-list-item p {
            margin: 0;
        }
        .quest-list-item:hover {
            background-color: var(--base-color-hover);
        }
        .quest-list-item--done {
            background-color: #3a413a;
        }
        .quest-list-item--done:hover {
            background-color: #3a413a;
        }

        #mobile-controls {
            position: fixed;
            bottom: 0;
            width: 100vw;
            height: 250px;
        }
        .mobile-button {
            display: flex;
            flex-flow: column nowrap;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            border: 2px solid rgba(101, 92, 92, 0.27);
            background-color: rgba(0, 0, 0, 0.42);
            border-radius: 8px;
        }
        .mobile-button.false {
            opacity: 0;
        }
        .mobile-button:hover {
            background-color: rgba(134, 128, 128, 0.49);
        }
        @media screen and (min-width: 1100px) {
            #mobile-controls {
                bottom: -1000px;
            }
        }
    </style>
</head>
<body>
    <div
            id="resource-loader"
            style="position: fixed;
                top: 0; left: 0;
                width: 100vw; height: 100vh;
                background-color: #000; color: white;
                display: flex; flex-flow: column nowrap; justify-content: center; align-items: center;
                z-index: 100;
            "
    >
        <h1 style="margin-bottom: 10px">DEAD EMPIRE GAME</h1>
        <p style="margin: 0">1.0.7</p>
        <p style="font-family: monospace">loading <span data-percent>0</span>%</p>
        <div
                class="logs"
                style="padding: 0px 5px; position: absolute; top: 0; left: 0; font-size: 9px; width: 200px; border: 2px solid var(--base-color); height: 300px; max-height: 300px; overflow-y: scroll">

        </div>
    </div>
    <div class="none" id="debug" style="
        position: fixed;
        top: 0;
        right: 0;
        width: 500px;
        height: 100px;
        background-color: rgba(0,0,0,0.69);
        padding: 20px;
        color: greenyellow;
        overflow: scroll;
    "></div>
    <div class="none" id="cameraPos" style="
        position: fixed;
        top: 120px;
        right: 0;
        width: 500px;
        height: 100px;
        background-color: rgba(0,0,0,0.69);
        padding: 20px;
        color: greenyellow;
        overflow: scroll;
    "></div>
    <div class="none" id="playerPos" style="
        position: fixed;
        top: 320px;
        right: 0;
        width: 500px;
        height: 100px;
        background-color: rgba(0,0,0,0.69);
        padding: 20px;
        color: greenyellow;
        overflow: scroll;
    "></div>

    <div id="ui">
        <div class="none">
            <label>
                Player speed:
                <input type="range" id="speedInput" min="0" value="100" max="1000">
            </label>
            <label>
                Attack speed:
                <input type="range" id="attackSpeedInput" min="0" value="10" max="25">
            </label>
            <button id="resetTimeButton">reset time</button>
            <label>
                Time speed
                <input type="range" id="timeSpeedInput" min="0" step="0.2" value="1" max="10">
                (<span id="timeSpeedValue">1</span>)
            </label>
        </div>
        <div style="position: fixed; top: 30%; right: 50%" id="start-stop-buttons">
            <h2 id="heroes">Heroes:</h2>
            <div id="select-hero"></div>
            <style>
                #select-hero {
                    width: 100px;
                    transition: 0.1s ease-in-out;
                    outline: 0px solid crimson;
                }
                #select-hero:hover {
                    outline: 4px solid crimson;
                }
            </style>
<!--            <h1>Dead empire game</h1>-->
            <div>state: <span id="state"></span></div>
<!--            <button id="start" class="gameButton">start</button>-->
<!--            <button id="stop" class="none gameButton">stop</button>-->

            <div class="container">
                <button id="start" class="gameButton">
                    START
                </button>
                <button id="stop" class="gameButton none">
                    STOP
                </button>
            </div>
        </div>

        <div id="mobile-controls" class="none" style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr; grid-template-rows: 1fr 1fr 1fr">
            <button class="mobile-button false"></button>
            <button class="mobile-button" data-key="KeyW"></button>
            <button class="mobile-button false"></button>

            <button class="mobile-button false"></button>
            <button class="mobile-button false"></button>
            <button class="mobile-button false"></button>



            <button class="mobile-button" data-key="KeyA"></button>
            <button class="mobile-button false"></button>
            <button class="mobile-button" data-key="KeyD"></button>

            <button class="mobile-button false"></button>
            <button class="mobile-button" data-key="KeyE" style="background-color: rgba(255,0,0,0.6)"></button>
            <button class="mobile-button" data-key="KeyQ" style="background-color: rgba(255,115,0,0.76)"></button>



            <button class="mobile-button false"></button>
            <button class="mobile-button" data-key="KeyS"></button>
            <button class="mobile-button false"></button>

            <button class="mobile-button false"></button>
            <button class="mobile-button false"></button>
            <button class="mobile-button false"></button>
        </div>

        <div id="quests" class="none">
            <h2>Квесты:</h2>
            <div class="quests__list">

            </div>
        </div>

        <div id="modals"></div>
    </div>
    <div class="inventory">
        <div class="inventory__player-section">
            <div id="hero-preview">

            </div>
        </div>
        <div class="inventory__items-section">
            <div class="item-template" style="display: none"></div>
        </div>
    </div>
    <canvas id="canvas"></canvas>
    <script type="module" src="src/main.ts"></script>
<script>
    console.log('version mobile support fix');
</script>
</body>
</html>
